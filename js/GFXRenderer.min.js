/*
* GFXRenderer v1.0.2 Copyright (c) 2015 AJ Savino
* MIT LICENSE
*/
var GFXRenderer=function(e){var n=null,t={FPS:60,RESIZE_TIMEOUT:250},r={contextType:"2d",canvas:null,context:null,paused:!1,_resizeTimeout:null,_renderInterval:null,_normalTimer:null},i={init:function(){var e=n.canvas;if(!e)throw"Canvas does not exist.";var a=n.contextType,o=e.getContext(a);if(!o)throw"Context '"+a+"' could not be created. Ensure that this feature is supported by your browser.";n.context=o;var l="onorientationchange"in window?"orientationchange":"resize";window.addEventListener?window.addEventListener(l,i._handler_resize,!1):window.attachEvent&&window.attachEvent("on"+l,i._handler_resize),i._updateSize(),r._normalTimer=new NormalTimer,"requestAnimationFrame"in window?requestAnimationFrame(i._render):r._renderInterval=setInterval(i._render,1e3/t.FPS)},destroy:function(){r._normalTimer=null;var e=r._renderInterval;e&&(clearInterval(e),r._renderInterval=null);var t=r._resizeTimeout;t&&(clearTimeout(t),r._resizeTimeout=null);var a="onorientationchange"in window?"orientationchange":"resize";window.removeEventListener?window.removeEventListener(a,i._handler_resize):window.detachEvent&&window.detachEvent("on"+a,i._handler_resize);var o=n.context;o&&(n.context=null)},_render:function(){var e=r._normalTimer;if(e){var t=e.tick();!n.paused&&1>t&&n.render(t),r._renderInterval||requestAnimationFrame(i._render)}},_handler_resize:function(){var e=r._resizeTimeout;e&&(clearTimeout(e),r._resizeTimeout=null),r._resizeTimeout=setTimeout(function(){clearTimeout(e),r._resizeTimeout=null,i._resize()},t.RESIZE_TIMEOUT)},_resize:function(){i._updateSize(),n.resize&&n.resize()},_updateSize:function(){var e=n.canvas;e.width=e.clientWidth,e.height=e.clientHeight}};n={contextType:r.contextType,canvas:r.canvas,context:r.context,paused:r.paused,elapsed:function(){return r._normalTimer?r._normalTimer.elapsed():0/0},delta:function(){return r._normalTimer?r._normalTimer.delta():0/0},init:i.init,destroy:i.destroy,render:null,resize:null};for(var a in e)n[a]=e[a];return n.init(),n},NormalTimer=function(){var e={_delta:0,_lastTime:0,_startTime:(new Date).getTime()};e._lastTime=e._startTime;var n={elapsed:function(){return.001*((new Date).getTime()-e._startTime)},delta:function(){return e._delta},tick:function(){var n=(new Date).getTime();return e._delta=.001*(n-e._lastTime),e._lastTime=n,e._delta}};return{elapsed:n.elapsed,delta:n.delta,tick:n.tick}};